C51 COMPILER V9.00   SETING                                                                04/12/2017 11:23:47 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE SETING
OBJECT MODULE PLACED IN seting.obj
COMPILER INVOKED BY: I:\program\keil\C51\BIN\C51.EXE class\seting.c LARGE BROWSE DEBUG OBJECTEXTEND PRINT(.\seting.lst) 
                    -OBJECT(seting.obj)

line level    source

   1          #include"seting.h"
   2          char inputval = 0;
   3          DATE _currtime;
   4          char setclosetime(DATE* closetime)
   5          {
*** WARNING C235 IN LINE 5 OF CLASS\SETING.C: parameter 1: different types
   6   1              char str[30];
   7   1              //获取输入的键值
   8   1              char key = getkey(0);
   9   1              char val = -1;  
  10   1              if(lvsecond==0)
  11   1              {
  12   2                      if (key==3)      
  13   2                      {
  14   3                      lvsecond=1;
  15   3                      key=-1;
  16   3                      };
  17   2              }
  18   1              if(lvsecond==1)
  19   1              {
  20   2                      LCDcls();       
  21   2                      val = inputbox();
  22   2                      sprintf(str,"inputhour:=%d",(int)val);
  23   2                      LCDprintf(str);
  24   2                      if(key==3) {
  25   3                      lvsecond=2;
  26   3                      closetime->hour = val;
  27   3                      key=-1;
  28   3                      };      
  29   2              } 
  30   1              if(lvsecond==2)
  31   1              {
  32   2                      LCDcls();       
  33   2                      val = inputbox();
  34   2                      sprintf(str,"inputmin:=%d",(int)val);
  35   2                      LCDprintf(str);
  36   2                      if(key==3) {
  37   3                      lvsecond=3;
  38   3                      closetime->min = val;
  39   3                      key=-1;
  40   3                      };      
  41   2              } 
  42   1              if(lvsecond==3)
  43   1              {
  44   2                      LCDcls();       
  45   2                      val = inputbox();
  46   2                      sprintf(str,"inputsec:=%d",(int)val);
  47   2                      LCDprintf(str);
  48   2                      if(key==3) {
  49   3                      lvsecond=0;
  50   3                      closetime->sec = val;
  51   3                      key=-1;
  52   3                      return 0;
  53   3                      };      
C51 COMPILER V9.00   SETING                                                                04/12/2017 11:23:47 PAGE 2   

  54   2              } 
  55   1              return -1;
  56   1      }       
  57          void setcurrenttime()
  58          {       
  59   1              if(setclosetime(&_currtime)==0)
  60   1              {
  61   2                      DS1302_SetTime(DS1302_HOUR,_currtime.hour);     
  62   2                      DS1302_SetTime(DS1302_MINUTE,_currtime.min);
  63   2                      DS1302_SetTime(DS1302_SECOND,_currtime.sec);
  64   2              }       
  65   1      }
  66          void setopentime(DATE* opentime)
  67          {
*** WARNING C235 IN LINE 67 OF CLASS\SETING.C: parameter 1: different types
  68   1              setclosetime(opentime);
  69   1      }
  70          char inputbox()
  71          {
  72   1              char key = getkey(0); 
  73   1              if(key!=-1&&getnumber(key)!=-1)
  74   1              {
  75   2                      inputval = (inputval*10 + getnumber(key));
  76   2              } 
  77   1      //      //确定
  78   1      //      if(key==3)return inputval;
  79   1              if(key==14)
  80   1              {
  81   2                      //退格
  82   2                      inputval = (inputval-inputval%10)/10;           
  83   2              }       
  84   1              return inputval;
  85   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    503    ----
   CONSTANT SIZE    =     40    ----
   XDATA SIZE       =      6      36
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
