C51 COMPILER V9.00   SETING                                                                04/10/2017 20:02:32 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE SETING
OBJECT MODULE PLACED IN seting.obj
COMPILER INVOKED BY: I:\program\keil\C51\BIN\C51.EXE class\seting.c LARGE BROWSE DEBUG OBJECTEXTEND PRINT(.\seting.lst) 
                    -OBJECT(seting.obj)

line level    source

   1          #include"seting.h"
   2          char inputval = 0;
   3          char setclosetime(DATE* closetime)
   4          {
*** WARNING C235 IN LINE 4 OF CLASS\SETING.C: parameter 1: different types
   5   1              char str[30];
   6   1              //获取输入的键值
   7   1              char key = getkey(0);
   8   1              char val = -1;  
   9   1              if(lvsecond==0)
  10   1              {
  11   2                      if (key==3)      
  12   2                      {
  13   3                      lvsecond=1;
  14   3                      key=-1;
  15   3                      };
  16   2              }
  17   1              if(lvsecond==1)
  18   1              {
  19   2                      LCDcls();       
  20   2                      val = inputbox();
  21   2                      sprintf(str,"inputhour:=%d",(int)val);
  22   2                      LCDprintf(str);
  23   2                      if(key==3) {
  24   3                      lvsecond=2;
  25   3                      closetime->hour = val;
  26   3                      key=-1;
  27   3                      };      
  28   2              } 
  29   1              if(lvsecond==2)
  30   1              {
  31   2                      LCDcls();       
  32   2                      val = inputbox();
  33   2                      sprintf(str,"inputmin:=%d",(int)val);
  34   2                      LCDprintf(str);
  35   2                      if(key==3) {
  36   3                      lvsecond=3;
  37   3                      closetime->min = val;
  38   3                      key=-1;
  39   3                      };      
  40   2              } 
  41   1              if(lvsecond==3)
  42   1              {
  43   2                      LCDcls();       
  44   2                      val = inputbox();
  45   2                      sprintf(str,"inputsec:=%d",(int)val);
  46   2                      LCDprintf(str);
  47   2                      if(key==3) {
  48   3                      lvsecond=0;
  49   3                      closetime->sec = val;
  50   3                      key=-1;
  51   3                      return 0;
  52   3                      };      
  53   2              } 
C51 COMPILER V9.00   SETING                                                                04/10/2017 20:02:32 PAGE 2   

  54   1              return -1;
  55   1      }       
  56          void setcurrenttime(DATE* curr)
  57          {
*** WARNING C235 IN LINE 57 OF CLASS\SETING.C: parameter 1: different types
  58   1              if(setclosetime(curr)==0)
  59   1              {
  60   2                      DS1302_SetTime(DS1302_HOUR,curr->hour); //??????????10??54??30
  61   2                      DS1302_SetTime(DS1302_MINUTE,curr->min);
  62   2                      DS1302_SetTime(DS1302_SECOND,curr->sec);
  63   2              }       
  64   1      }
  65          void setopentime(DATE* opentime)
  66          {
*** WARNING C235 IN LINE 66 OF CLASS\SETING.C: parameter 1: different types
  67   1              setclosetime(opentime);
  68   1      }
  69          char inputbox()
  70          {
  71   1              char key = getkey(0); 
  72   1              if(key!=-1&&getnumber(key)!=-1)
  73   1              {
  74   2                      inputval = (inputval*10 + getnumber(key));
  75   2              } 
  76   1      //      //确定
  77   1      //      if(key==3)return inputval;
  78   1              if(key==14)
  79   1              {
  80   2                      //退格
  81   2                      inputval = (inputval-inputval%10)/10;           
  82   2              }       
  83   1              return inputval;
  84   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    558    ----
   CONSTANT SIZE    =     40    ----
   XDATA SIZE       =      1      39
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  3 WARNING(S),  0 ERROR(S)
