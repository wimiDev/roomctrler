C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE LCD5110
OBJECT MODULE PLACED IN LCD5110.obj
COMPILER INVOKED BY: J:\program\keil\C51\BIN\C51.EXE class\LCD5110.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND P
                    -RINT(.\LCD5110.lst) TABS(2) OBJECT(LCD5110.obj)

line level    source

   1          #include "LCD5110.h"
   2          
   3          POINT slipos;
   4          unsigned char drawindex=0;
   5          char drawbuf[30];
   6          char drawnowbuf[30];
   7          
   8          unsigned char code numcode[]={
   9          /*--  文字:  0  --*/
  10          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  11          0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,
  12          
  13          /*--  文字:  1  --*/
  14          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  15          0x00,0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,
  16          
  17          /*--  文字:  2  --*/
  18          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  19          0x00,0x70,0x08,0x08,0x08,0x08,0xF0,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,
  20          
  21          /*--  文字:  3  --*/
  22          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  23          0x00,0x30,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x18,0x20,0x21,0x21,0x22,0x1C,0x00,
  24          
  25          /*--  文字:  4  --*/
  26          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  27          0x00,0x00,0x80,0x40,0x30,0xF8,0x00,0x00,0x00,0x06,0x05,0x24,0x24,0x3F,0x24,0x24,
  28          
  29          /*--  文字:  5  --*/
  30          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  31          0x00,0xF8,0x88,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x20,0x20,0x20,0x11,0x0E,0x00,
  32          
  33          /*--  文字:  6  --*/
  34          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  35          0x00,0xE0,0x10,0x88,0x88,0x90,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x20,0x1F,0x00,
  36          
  37          /*--  文字:  7  --*/
  38          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  39          0x00,0x18,0x08,0x08,0x88,0x68,0x18,0x00,0x00,0x00,0x00,0x3E,0x01,0x00,0x00,0x00,
  40          
  41          /*--  文字:  8  --*/
  42          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  43          0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,
  44          
  45          /*--  文字:  9  --*/
  46          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  47          0x00,0xF0,0x08,0x08,0x08,0x10,0xE0,0x00,0x00,0x01,0x12,0x22,0x22,0x11,0x0F,0x00,
  48          
  49          /*--  文字:  :  --10*/
  50          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  51          0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,
  52          
  53          /*--  文字:  ;  --11*/
  54          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 2   

  55          0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x00,
  56          
  57          /*--  文字:  <  --12*/
  58          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  59          0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,
  60          
  61          /*--  文字:  =  --13*/
  62          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  63          0x00,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x00,0x02,0x02,0x02,0x02,0x02,0x02,0x00,
  64          
  65          /*--  文字:  >  --14*/
  66          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  67          0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,
  68          
  69          /*--  文字:  ?  --15*/
  70          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  71          0x00,0x70,0x48,0x08,0x08,0x88,0x70,0x00,0x00,0x00,0x00,0x30,0x37,0x00,0x00,0x00,
  72          
  73          /*--  文字:  @  --16*/
  74          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  75          0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x28,0x2F,0x28,0x17,0x00,
  76          
  77          /*--  文字:  A  --*/
  78          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  79          0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,
  80          
  81          /*--  文字:  B  --*/
  82          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  83          0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,
  84          
  85          /*--  文字:  C  --*/
  86          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  87          0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,
  88          
  89          /*--  文字:  D  --*/
  90          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  91          0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,
  92          
  93          /*--  文字:  E  --*/
  94          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  95          0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,
  96          
  97          /*--  文字:  F  --*/
  98          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  99          0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,
 100          
 101          /*--  文字:  G  --*/
 102          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 103          0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,
 104          
 105          /*--  文字:  H  --*/
 106          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 107          0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,
 108          
 109          /*--  文字:  I  --*/
 110          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 111          0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 112          
 113          /*--  文字:  J  --*/
 114          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 115          0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,
 116          
C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 3   

 117          /*--  文字:  K  --*/
 118          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 119          0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,
 120          
 121          /*--  文字:  L  --*/
 122          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 123          0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,
 124          
 125          /*--  文字:  M  --*/
 126          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 127          0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x01,0x3E,0x01,0x3F,0x20,0x00,
 128          
 129          /*--  文字:  N  --*/
 130          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 131          0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,
 132          
 133          /*--  文字:  O  --*/
 134          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 135          0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,
 136          
 137          /*--  文字:  P  --*/
 138          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 139          0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,
 140          
 141          /*--  文字:  Q  --*/
 142          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 143          0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x28,0x28,0x30,0x50,0x4F,0x00,
 144          
 145          /*--  文字:  R  --*/
 146          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 147          0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,
 148          
 149          /*--  文字:  S  --*/
 150          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 151          0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,
 152          
 153          /*--  文字:  T  --*/
 154          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 155          0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,
 156          
 157          /*--  文字:  U  --*/
 158          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 159          0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,
 160          
 161          /*--  文字:  V  --*/
 162          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 163          0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,
 164          
 165          /*--  文字:  W  --*/
 166          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 167          0x08,0xF8,0x00,0xF8,0x00,0xF8,0x08,0x00,0x00,0x03,0x3E,0x01,0x3E,0x03,0x00,0x00,
 168          
 169          /*--  文字:  X  --*/
 170          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 171          0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,
 172          
 173          /*--  文字:  Y  --*/
 174          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 175          0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,
 176          
 177          /*--  文字:  Z  --*/
 178          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 4   

 179          0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,
 180          
 181          /*--  文字:  [  --*/
 182          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 183          0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,
 184          
 185          /*--  文字:  /  --*/
 186          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 187          0x00,0x00,0x00,0x00,0xC0,0x38,0x04,0x00,0x00,0x60,0x18,0x07,0x00,0x00,0x00,0x00,
 188          
 189          /*--  文字:  ]  --*/
 190          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 191          0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,
 192          
 193          /*--  文字:  ^  --*/
 194          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 195          0x00,0x00,0x04,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 196          
 197          /*--  文字:  -  --*/
 198          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 199          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x00,
 200          
 201          /*--  文字:  `  --*/
 202          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 203          0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 204          
 205          /*--  文字:  a  --*/
 206          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 207          0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x19,0x24,0x24,0x12,0x3F,0x20,0x00,
 208          
 209          /*--  文字:  b  --*/
 210          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 211          0x10,0xF0,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,
 212          
 213          /*--  文字:  c  --*/
 214          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 215          0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,
 216          
 217          /*--  文字:  d  --*/
 218          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 219          0x00,0x00,0x80,0x80,0x80,0x90,0xF0,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,
 220          
 221          /*--  文字:  e  --*/
 222          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 223          0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x24,0x24,0x24,0x24,0x17,0x00,
 224          
 225          /*--  文字:  f  --*/
 226          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 227          0x00,0x80,0x80,0xE0,0x90,0x90,0x20,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 228          
 229          /*--  文字:  g  --*/
 230          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 231          0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,
 232          
 233          /*--  文字:  h  --*/
 234          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 235          0x10,0xF0,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,
 236          
 237          /*--  文字:  i  --*/
 238          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 239          0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 240          
C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 5   

 241          /*--  文字:  j  --*/
 242          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 243          0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,
 244          
 245          /*--  文字:  k  --*/
 246          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 247          0x10,0xF0,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x06,0x29,0x30,0x20,0x00,
 248          
 249          /*--  文字:  l  --*/
 250          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 251          0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 252          
 253          /*--  文字:  m  --*/
 254          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 255          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,
 256          
 257          /*--  文字:  n  --*/
 258          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 259          0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,
 260          
 261          /*--  文字:  o  --*/
 262          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 263          0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,
 264          
 265          /*--  文字:  p  --*/
 266          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 267          0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0x91,0x20,0x20,0x11,0x0E,0x00,
 268          
 269          /*--  文字:  q  --*/
 270          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 271          0x00,0x00,0x00,0x80,0x80,0x00,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0x91,0xFF,0x80,
 272          
 273          /*--  文字:  r  --*/
 274          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 275          0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,
 276          
 277          /*--  文字:  s  --*/
 278          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 279          0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,
 280          
 281          /*--  文字:  t  --*/
 282          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 283          0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x10,0x00,
 284          
 285          /*--  文字:  u  --*/
 286          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 287          0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,
 288          
 289          /*--  文字:  v  --*/
 290          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 291          0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x03,0x0C,0x30,0x0C,0x03,0x00,0x00,
 292          
 293          /*--  文字:  w  --*/
 294          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 295          0x80,0x80,0x00,0x80,0x80,0x00,0x80,0x80,0x01,0x0E,0x30,0x0C,0x07,0x38,0x06,0x01,
 296          
 297          /*--  文字:  x  --*/
 298          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 299          0x00,0x80,0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x20,0x31,0x0E,0x2E,0x31,0x20,0x00,
 300          
 301          /*--  文字:  y  --*/
 302          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 6   

 303          0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x81,0x86,0x78,0x18,0x06,0x01,0x00,
 304          
 305          /*--  文字:  z  --*/
 306          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 307          0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,
 308          
 309          /*--  文字:  {  --*/
 310          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 311          0x00,0x00,0x00,0x00,0x00,0xFC,0x02,0x02,0x00,0x00,0x00,0x00,0x01,0x3E,0x40,0x40,
 312          
 313          /*--  文字:  \  --*/
 314          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 315          0x00,0x04,0x38,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,
 316          
 317          /*--  文字:  }  --*/
 318          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 319          0x02,0x02,0xFC,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x3E,0x01,0x00,0x00,0x00,0x00,
 320          
 321          /*--  文字:  ~  --*/
 322          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --126*/
 323          0x00,0x02,0x01,0x02,0x02,0x04,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 324          };
 325          
 326          
 327          void delay_1ms(void)//1ms延时函数
 328          {
 329   1        unsigned int i;
 330   1        for (i=0;i<500;i++)   ;
 331   1      ;
 332   1      }
 333          
 334          /*--------------------------------------------
 335          LCD_write_byte: 使用SPI接口写数据到LCD
 336          输入参数：dt：写入的数据；
 337          command ：写数据/命令选择；
 338          编写日期：20080918 
 339          ----------------------------------------------*/
 340          void LCD_write_byte(unsigned char dt, unsigned char command)
 341          {
 342   1        unsigned char i; 
 343   1        sce=0;  
 344   1        dc=command; 
 345   1        for(i=0;i<8;i++)
 346   1        { 
 347   2          if(dt&0x80)
 348   2            sdin=1;
 349   2          else
 350   2            sdin=0;
 351   2          dt=dt<<1;   
 352   2          sclk=0;     
 353   2          sclk=1; 
 354   2        } 
 355   1        dc=1; 
 356   1        sce=1;  
 357   1        sdin=1;
 358   1      }
 359          /*---------------------------------------
 360          LCD_init: 3310LCD初始化
 361          编写日期：20080918 
 362          -----------------------------------------  */
 363          void LCD_init(void)
 364          { 
C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 7   

 365   1        res=0;    
 366   1          delay_1ms();
 367   1          res=1;  
 368   1        LCD_write_byte(0x21,0);//初始化Lcd,功能设定使用扩充指令
 369   1        LCD_write_byte(0xd0,0);//设定液晶偏置电压
 370   1        LCD_write_byte(0x20,0);//使用基本指令
 371   1        LCD_write_byte(0x0C,0);//设定显示模式，正常显示
 372   1        cleandrawbuf();
 373   1      }
 374          /*-------------------------------------------
 375          LCD_set_XY: 设置LCD坐标函数
 376          输入参数：X：0－83  Y：0－5
 377          编写日期：20080918 
 378          ---------------------------------------------*/
 379          void LCD_set_XY(unsigned char X, unsigned char Y)
 380          {
 381   1        LCD_write_byte(0x40 | Y, 0);// column
 382   1        LCD_write_byte(0x80 | X, 0);// row
 383   1      } 
 384          /*------------------------------------------
 385          LCD_clear: LCD清屏函数
 386          编写日期：20080918 
 387          --------------------------------------------*/
 388          void LCD_clear(void)
 389          {
 390   1        unsigned char t;
 391   1        unsigned char k;
 392   1        LCD_set_XY(0,0);
 393   1        for(t=0;t<6;t++)
 394   1        { 
 395   2          for(k=0;k<84;k++)
 396   2          { 
 397   3            LCD_write_byte(0x00,1);
 398   3              
 399   3          } 
 400   2        }
 401   1      }
 402          /*---------------------------------------------
 403          LCD_write_shu: 显示8（宽）*16（高）点阵列数字字母符号等半角类
 404          输入参数：c：显示的字符；
 405          编写日期：20080918 
 406          -----------------------------------------------*/
 407          void LCDwritechar(unsigned char row, unsigned char page,unsigned char c) //row:列 page:页 dd:字符
 408          {
 409   1        unsigned char i;    
 410   1        
 411   1        LCD_set_XY(row*8, page);// 列，页 
 412   1        for(i=0; i<8;i++) 
 413   1        {
 414   2          LCD_write_byte(numcode[c*16+i],1); 
 415   2        }
 416   1        
 417   1         LCD_set_XY(row*8, page+1);// 列，页 
 418   1        for(i=8; i<16;i++) 
 419   1        {
 420   2          LCD_write_byte(numcode[c*16+i],1);
 421   2        }   
 422   1      }
 423          void LCDclearpos(unsigned char row, unsigned char page)
 424          {
 425   1        unsigned char i;    
 426   1        LCD_set_XY(row*8, page);// 列，页 
C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 8   

 427   1        for(i=0; i<8;i++) 
 428   1        {
 429   2          LCD_write_byte(0x00,1); 
 430   2        }
 431   1        LCD_set_XY(row*8, page+1);// 列，页 
 432   1        for(i=8; i<16;i++) 
 433   1        {
 434   2          LCD_write_byte(0x00,1);
 435   2        }  
 436   1      }
 437          void cleandrawbuf()
 438          {
 439   1        char index=0;
 440   1        while(index<30)
 441   1        {
 442   2          drawbuf[index] = 0;
 443   2          drawnowbuf[index]=0;
 444   2          index++;
 445   2        } 
 446   1      }
 447          void LCDdraw(char*_drawbuf,char* _drawnow)
 448          {
 449   1        unsigned char index =0 ; 
 450   1        unsigned char x=0,y=0;
 451   1        //LCD_clear(); //清屏幕
 452   1        for(index = 0;index<30;index++)
 453   1        {
 454   2          //每行写10个字符
 455   2          if(index % 10 == 0 && index>0)
 456   2          { 
 457   3            y += 2;
 458   3            y =y % 5;
 459   3            x = 0;  
 460   3          }
 461   2          if(_drawnow[index] == _drawbuf[index]) 
 462   2          {
 463   3            x++;
 464   3            continue;
 465   3          }
 466   2            _drawnow[index] = _drawbuf[index];
 467   2            if (_drawbuf[index] >= '0' &&_drawbuf[index]<127)
 468   2            {
 469   3              LCDwritechar(x,y,_drawbuf[index]-'0');
 470   3            }
 471   2            else
 472   2            {
 473   3              LCDclearpos(x,y);
 474   3            }
 475   2            x++;
 476   2        }
 477   1      }
 478          void LCDcls()
 479          {
 480   1        cleandrawbuf();
 481   1        drawindex = 0;
 482   1        LCD_clear();
 483   1        //LCDdraw(drawbuf,drawnowbuf);
 484   1      }
 485          void LCDprintf(char*str,char pos)
 486          {
 487   1      //  char index =0;
 488   1        if(pos >= 0) 
C51 COMPILER V9.54   LCD5110                                                               05/26/2017 20:48:15 PAGE 9   

 489   1        {
 490   2          drawindex = pos;
 491   2          //LCD_clear();
 492   2        }
 493   1        while(*str)
 494   1        {
 495   2          drawbuf[drawindex] = *str;
 496   2          str++;
 497   2          drawindex = ++ drawindex % 30;    
 498   2        }
 499   1      //    while(index < 30)
 500   1      //    {
 501   1      //      drawbuf[index] = 0;
 502   1      //      index++;
 503   1      //    }
 504   1        LCDdraw(drawbuf,drawnowbuf);
 505   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    629    ----
   CONSTANT SIZE    =   1264    ----
   XDATA SIZE       =     63       9
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
