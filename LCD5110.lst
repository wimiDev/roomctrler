C51 COMPILER V9.00   LCD5110                                                               04/12/2017 11:23:47 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE LCD5110
OBJECT MODULE PLACED IN LCD5110.obj
COMPILER INVOKED BY: I:\program\keil\C51\BIN\C51.EXE class\LCD5110.c LARGE BROWSE DEBUG OBJECTEXTEND PRINT(.\LCD5110.lst
                    -) OBJECT(LCD5110.obj)

line level    source

   1          #include "LCD5110.h"
   2          
   3          POINT slipos;
   4          unsigned char drawindex=0;
   5          char drawbuf[30];
   6          
   7          unsigned char code numcode[]={
   8          /*--  文字:  0  --*/
   9          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  10          0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,
  11          
  12          /*--  文字:  1  --*/
  13          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  14          0x00,0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,
  15          
  16          /*--  文字:  2  --*/
  17          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  18          0x00,0x70,0x08,0x08,0x08,0x08,0xF0,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,
  19          
  20          /*--  文字:  3  --*/
  21          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  22          0x00,0x30,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x18,0x20,0x21,0x21,0x22,0x1C,0x00,
  23          
  24          /*--  文字:  4  --*/
  25          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  26          0x00,0x00,0x80,0x40,0x30,0xF8,0x00,0x00,0x00,0x06,0x05,0x24,0x24,0x3F,0x24,0x24,
  27          
  28          /*--  文字:  5  --*/
  29          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  30          0x00,0xF8,0x88,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x20,0x20,0x20,0x11,0x0E,0x00,
  31          
  32          /*--  文字:  6  --*/
  33          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  34          0x00,0xE0,0x10,0x88,0x88,0x90,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x20,0x1F,0x00,
  35          
  36          /*--  文字:  7  --*/
  37          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  38          0x00,0x18,0x08,0x08,0x88,0x68,0x18,0x00,0x00,0x00,0x00,0x3E,0x01,0x00,0x00,0x00,
  39          
  40          /*--  文字:  8  --*/
  41          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  42          0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,
  43          
  44          /*--  文字:  9  --*/
  45          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  46          0x00,0xF0,0x08,0x08,0x08,0x10,0xE0,0x00,0x00,0x01,0x12,0x22,0x22,0x11,0x0F,0x00,
  47          
  48          /*--  文字:  :  --10*/
  49          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  50          0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,
  51          
  52          /*--  文字:  ;  --11*/
  53          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  54          0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x00,
C51 COMPILER V9.00   LCD5110                                                               04/12/2017 11:23:47 PAGE 2   

  55          
  56          /*--  文字:  <  --12*/
  57          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  58          0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,
  59          
  60          /*--  文字:  =  --13*/
  61          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  62          0x00,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x00,0x02,0x02,0x02,0x02,0x02,0x02,0x00,
  63          
  64          /*--  文字:  >  --14*/
  65          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  66          0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,
  67          
  68          /*--  文字:  ?  --15*/
  69          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  70          0x00,0x70,0x48,0x08,0x08,0x88,0x70,0x00,0x00,0x00,0x00,0x30,0x37,0x00,0x00,0x00,
  71          
  72          /*--  文字:  @  --16*/
  73          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  74          0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x28,0x2F,0x28,0x17,0x00,
  75          
  76          /*--  文字:  A  --*/
  77          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  78          0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,
  79          
  80          /*--  文字:  B  --*/
  81          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  82          0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,
  83          
  84          /*--  文字:  C  --*/
  85          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  86          0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,
  87          
  88          /*--  文字:  D  --*/
  89          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  90          0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,
  91          
  92          /*--  文字:  E  --*/
  93          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  94          0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,
  95          
  96          /*--  文字:  F  --*/
  97          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
  98          0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,
  99          
 100          /*--  文字:  G  --*/
 101          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 102          0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,
 103          
 104          /*--  文字:  H  --*/
 105          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 106          0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,
 107          
 108          /*--  文字:  I  --*/
 109          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 110          0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 111          
 112          /*--  文字:  J  --*/
 113          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 114          0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,
 115          
 116          /*--  文字:  K  --*/
C51 COMPILER V9.00   LCD5110                                                               04/12/2017 11:23:47 PAGE 3   

 117          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 118          0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,
 119          
 120          /*--  文字:  L  --*/
 121          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 122          0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,
 123          
 124          /*--  文字:  M  --*/
 125          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 126          0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x01,0x3E,0x01,0x3F,0x20,0x00,
 127          
 128          /*--  文字:  N  --*/
 129          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 130          0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,
 131          
 132          /*--  文字:  O  --*/
 133          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 134          0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,
 135          
 136          /*--  文字:  P  --*/
 137          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 138          0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,
 139          
 140          /*--  文字:  Q  --*/
 141          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 142          0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x28,0x28,0x30,0x50,0x4F,0x00,
 143          
 144          /*--  文字:  R  --*/
 145          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 146          0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,
 147          
 148          /*--  文字:  S  --*/
 149          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 150          0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,
 151          
 152          /*--  文字:  T  --*/
 153          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 154          0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,
 155          
 156          /*--  文字:  U  --*/
 157          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 158          0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,
 159          
 160          /*--  文字:  V  --*/
 161          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 162          0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,
 163          
 164          /*--  文字:  W  --*/
 165          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 166          0x08,0xF8,0x00,0xF8,0x00,0xF8,0x08,0x00,0x00,0x03,0x3E,0x01,0x3E,0x03,0x00,0x00,
 167          
 168          /*--  文字:  X  --*/
 169          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 170          0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,
 171          
 172          /*--  文字:  Y  --*/
 173          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 174          0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,
 175          
 176          /*--  文字:  Z  --*/
 177          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 178          0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,
C51 COMPILER V9.00   LCD5110                                                               04/12/2017 11:23:47 PAGE 4   

 179          
 180          /*--  文字:  [  --*/
 181          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 182          0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,
 183          
 184          /*--  文字:  /  --*/
 185          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 186          0x00,0x00,0x00,0x00,0xC0,0x38,0x04,0x00,0x00,0x60,0x18,0x07,0x00,0x00,0x00,0x00,
 187          
 188          /*--  文字:  ]  --*/
 189          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 190          0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,
 191          
 192          /*--  文字:  ^  --*/
 193          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 194          0x00,0x00,0x04,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 195          
 196          /*--  文字:  -  --*/
 197          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 198          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x00,
 199          
 200          /*--  文字:  `  --*/
 201          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 202          0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 203          
 204          /*--  文字:  a  --*/
 205          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 206          0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x19,0x24,0x24,0x12,0x3F,0x20,0x00,
 207          
 208          /*--  文字:  b  --*/
 209          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 210          0x10,0xF0,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,
 211          
 212          /*--  文字:  c  --*/
 213          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 214          0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,
 215          
 216          /*--  文字:  d  --*/
 217          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 218          0x00,0x00,0x80,0x80,0x80,0x90,0xF0,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,
 219          
 220          /*--  文字:  e  --*/
 221          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 222          0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x24,0x24,0x24,0x24,0x17,0x00,
 223          
 224          /*--  文字:  f  --*/
 225          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 226          0x00,0x80,0x80,0xE0,0x90,0x90,0x20,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 227          
 228          /*--  文字:  g  --*/
 229          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 230          0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,
 231          
 232          /*--  文字:  h  --*/
 233          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 234          0x10,0xF0,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,
 235          
 236          /*--  文字:  i  --*/
 237          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 238          0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 239          
 240          /*--  文字:  j  --*/
C51 COMPILER V9.00   LCD5110                                                               04/12/2017 11:23:47 PAGE 5   

 241          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 242          0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,
 243          
 244          /*--  文字:  k  --*/
 245          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 246          0x10,0xF0,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x06,0x29,0x30,0x20,0x00,
 247          
 248          /*--  文字:  l  --*/
 249          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 250          0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 251          
 252          /*--  文字:  m  --*/
 253          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 254          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,
 255          
 256          /*--  文字:  n  --*/
 257          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 258          0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,
 259          
 260          /*--  文字:  o  --*/
 261          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 262          0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,
 263          
 264          /*--  文字:  p  --*/
 265          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 266          0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0x91,0x20,0x20,0x11,0x0E,0x00,
 267          
 268          /*--  文字:  q  --*/
 269          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 270          0x00,0x00,0x00,0x80,0x80,0x00,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0x91,0xFF,0x80,
 271          
 272          /*--  文字:  r  --*/
 273          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 274          0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,
 275          
 276          /*--  文字:  s  --*/
 277          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 278          0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,
 279          
 280          /*--  文字:  t  --*/
 281          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 282          0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x10,0x00,
 283          
 284          /*--  文字:  u  --*/
 285          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 286          0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,
 287          
 288          /*--  文字:  v  --*/
 289          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 290          0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x03,0x0C,0x30,0x0C,0x03,0x00,0x00,
 291          
 292          /*--  文字:  w  --*/
 293          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 294          0x80,0x80,0x00,0x80,0x80,0x00,0x80,0x80,0x01,0x0E,0x30,0x0C,0x07,0x38,0x06,0x01,
 295          
 296          /*--  文字:  x  --*/
 297          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 298          0x00,0x80,0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x20,0x31,0x0E,0x2E,0x31,0x20,0x00,
 299          
 300          /*--  文字:  y  --*/
 301          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 302          0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x81,0x86,0x78,0x18,0x06,0x01,0x00,
C51 COMPILER V9.00   LCD5110                                                               04/12/2017 11:23:47 PAGE 6   

 303          
 304          /*--  文字:  z  --*/
 305          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 306          0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,
 307          
 308          /*--  文字:  {  --*/
 309          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 310          0x00,0x00,0x00,0x00,0x00,0xFC,0x02,0x02,0x00,0x00,0x00,0x00,0x01,0x3E,0x40,0x40,
 311          
 312          /*--  文字:  \  --*/
 313          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 314          0x00,0x04,0x38,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,
 315          
 316          /*--  文字:  }  --*/
 317          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
 318          0x02,0x02,0xFC,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x3E,0x01,0x00,0x00,0x00,0x00,
 319          
 320          /*--  文字:  ~  --*/
 321          /*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --126*/
 322          0x00,0x02,0x01,0x02,0x02,0x04,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 323          };
 324          
 325          
 326          void delay_1ms(void)//1ms延时函数
 327          {
 328   1              unsigned int i;
 329   1              for (i=0;i<500;i++)       ;
 330   1      ;
 331   1      }
 332          
 333          /*--------------------------------------------
 334          LCD_write_byte: 使用SPI接口写数据到LCD
 335          输入参数：dt：写入的数据；
 336          command ：写数据/命令选择；
 337          编写日期：20080918 
 338          ----------------------------------------------*/
 339          void LCD_write_byte(unsigned char dt, unsigned char command)
 340          {
 341   1              unsigned char i; 
 342   1              sce=0;  
 343   1              dc=command;     
 344   1              for(i=0;i<8;i++)
 345   1              { 
 346   2                      if(dt&0x80)
 347   2                              sdin=1;
 348   2                      else
 349   2                              sdin=0;
 350   2                      dt=dt<<1;               
 351   2                      sclk=0;                 
 352   2                      sclk=1; 
 353   2              }       
 354   1              dc=1;   
 355   1              sce=1;  
 356   1              sdin=1;
 357   1      }
 358          /*---------------------------------------
 359          LCD_init: 3310LCD初始化
 360          编写日期：20080918 
 361          -----------------------------------------  */
 362          void LCD_init(void)
 363          {       
 364   1              res=0;          
C51 COMPILER V9.00   LCD5110                                                               04/12/2017 11:23:47 PAGE 7   

 365   1              delay_1ms();
 366   1              res=1;  
 367   1              LCD_write_byte(0x21,0);//初始化Lcd,功能设定使用扩充指令
 368   1              LCD_write_byte(0xd0,0);//设定液晶偏置电压
 369   1              LCD_write_byte(0x20,0);//使用基本指令
 370   1              LCD_write_byte(0x0C,0);//设定显示模式，正常显示
 371   1              cleandrawbuf();
 372   1      }
 373          /*-------------------------------------------
 374          LCD_set_XY: 设置LCD坐标函数
 375          输入参数：X：0－83  Y：0－5
 376          编写日期：20080918 
 377          ---------------------------------------------*/
 378          void LCD_set_XY(unsigned char X, unsigned char Y)
 379          {
 380   1              LCD_write_byte(0x40 | Y, 0);// column
 381   1              LCD_write_byte(0x80 | X, 0);// row
 382   1      } 
 383          /*------------------------------------------
 384          LCD_clear: LCD清屏函数
 385          编写日期：20080918 
 386          --------------------------------------------*/
 387          void LCD_clear(void)
 388          {
 389   1              unsigned char t;
 390   1              unsigned char k;
 391   1              LCD_set_XY(0,0);
 392   1              for(t=0;t<6;t++)
 393   1              { 
 394   2                      for(k=0;k<84;k++)
 395   2                      { 
 396   3                              LCD_write_byte(0x00,1);
 397   3                                      
 398   3                      } 
 399   2              }
 400   1      }
 401          /*---------------------------------------------
 402          LCD_write_shu: 显示8（宽）*16（高）点阵列数字字母符号等半角类
 403          输入参数：c：显示的字符；
 404          编写日期：20080918 
 405          -----------------------------------------------*/
 406          void LCDwritechar(unsigned char row, unsigned char page,unsigned char c) //row:列 page:页 dd:字符
 407          {
 408   1              unsigned char i;        
 409   1              
 410   1              LCD_set_XY(row*8, page);// 列，页 
 411   1              for(i=0; i<8;i++) 
 412   1              {
 413   2                      LCD_write_byte(numcode[c*16+i],1); 
 414   2              }
 415   1              
 416   1          LCD_set_XY(row*8, page+1);// 列，页 
 417   1              for(i=8; i<16;i++) 
 418   1              {
 419   2                      LCD_write_byte(numcode[c*16+i],1);
 420   2              }               
 421   1      }
 422          void cleandrawbuf()
 423          {
 424   1              char index=0;
 425   1              while(index<30)
 426   1              {
C51 COMPILER V9.00   LCD5110                                                               04/12/2017 11:23:47 PAGE 8   

 427   2                      drawbuf[index] = 0;
 428   2                      index++;
 429   2              }       
 430   1      }
 431          void LCDdraw(char*_drawbuf)
 432          {
 433   1              unsigned char index =0 ; 
 434   1              unsigned char x=0,y=0;
 435   1              LCD_clear(); //清屏幕
 436   1              for(index = 0;index<30;index++)
 437   1              {
 438   2                      //每行写10个字符
 439   2                      if(index % 10 == 0 && index>0)
 440   2                      {       
 441   3                              y += 2;
 442   3                              y =y % 5;
 443   3                              x = 0;  
 444   3                      }
 445   2                      if (_drawbuf[index]>='0'&&_drawbuf[index]<127)
 446   2                      {
 447   3                              LCDwritechar(x,y,_drawbuf[index]-'0');
 448   3                      }
 449   2                      x++;
 450   2              }
 451   1      
 452   1      }
 453          void LCDcls()
 454          {
 455   1              cleandrawbuf();
 456   1              drawindex = 0;
 457   1              LCDdraw(drawbuf);
 458   1      }
 459          void LCDprintf(char*str)
 460          {
 461   1              while(*str)
 462   1              {
 463   2                      drawbuf[drawindex] = *str;
 464   2                      str++;
 465   2                      drawindex = ++ drawindex % 30;          
 466   2              }
 467   1              LCDdraw(drawbuf);
 468   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    439    ----
   CONSTANT SIZE    =   1264    ----
   XDATA SIZE       =     33       6
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
